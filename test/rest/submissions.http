##########################
### SUBMISSIONS2
##########################

@project_id = cf8ddc93-5062-424d-964a-54610bcb5c4d
@submission_id = c8da1d56-49fc-4221-ad85-3696e9b45891

### Step 1: Get all submission
# @name getSubmission2
GET {{folio}}/projects/{{project_id}}/submissions2
Authorization: Bearer {{token}}
Content-Type: application/json

###


### Step 1: Create new submission
# @name createSubmission2
POST {{folio}}/projects/{{project_id}}/submissions2
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "submission_name": "cholera_test"
}

###

### Step 2: Get the submission details
# @name getSubmission2
GET {{folio}}/projects/{{project_id}}/submissions2/{{submission_id}}
Authorization: Bearer {{token}}
Content-Type: application/json

###


### Step 3a: Upload TSV file 
# @name uploadTSV2
POST {{folio}}/projects/{{project_id}}/submissions/{{submission_id}}/upload2
Authorization: Bearer {{token}}
Content-Type: multipart/form-data; boundary=boundary123

--boundary123
Content-Disposition: form-data; name="file"; filename="cholera_1.tsv"
Content-Type: text/tab-separated-values

< /home/dimee/Work/OpenUp/SANBI/agari-folio/test/data/tsv_files/cholera_1.tsv

--boundary123--

###

### Step 2b: Upload FASTA file
# @name uploadFASTA2
POST {{folio}}/projects/{{project_id}}/submissions/{{submission_id}}/upload2
Authorization: Bearer {{token}}
Content-Type: multipart/form-data; boundary=boundary456

--boundary456
Content-Disposition: form-data; name="file"; filename="cholera_003.fasta"
Content-Type: text/plain

< /home/dimee/Work/OpenUp/SANBI/agari-folio/test/data/tsv_files/cholera_003.fasta

--boundary456--

###

@file_id = 03b7a01d-6930-46fb-aa9e-f865a9634b4f

### Step 2c: Delete uploaded file
# @name deleteUploadedFile2
DELETE {{folio}}/projects/{{project_id}}/submissions/{{submission_id}}/files2/{{file_id}}
Authorization: Bearer {{token}}

###

### Step 3: Validate submission
# @name validateSubmission2
POST {{folio}}/projects/{{project_id}}/submissions/{{submission_id}}/validate2
Authorization: Bearer {{token}}

###

### Step 4: Finalise submission
# @name finalizeSubmission2
POST {{folio}}/projects/{{project_id}}/submissions/{{submission_id}}/finalise
Authorization: Bearer {{token}}

###

### Step 5: View isolates
# @name getIsolatesSubmission2
GET {{folio}}/projects/{{project_id}}/submissions/{{submission_id}}/isolates
Authorization: Bearer {{token}}

###

### Step 6: Get Isolate Squence
@isolate_id = 777573a6-1c85-4239-8426-6d7b4627d313
# @name getIsolateSequence2
GET {{folio}}/projects/{{project_id}}/submissions/{{submission_id}}/isolates/{{isolate_id}}/sequence
Authorization: Bearer {{token}}

###