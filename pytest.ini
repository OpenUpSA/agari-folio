[pytest]
# Pytest configuration file

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Default test path
testpaths = test

# Console output options
console_output_style = progress
addopts =
    -v
    --tb=short
    --strict-markers

# Markers for organizing tests
markers =
    # Feature-based markers
    organisation: Tests for organisation CRUD operations
    organisation_create: Tests for creating organisations
    organisation_members: Tests for adding/removing organisation members
    organisation_update: Tests for updating organisations
    organisation_delete: Tests for deleting organisations
    submission: Tests for submission operations
    submission_create: Tests for creating submissions
    submission_upload: Tests for uploading files to submissions
    submission_validation: Tests for submission validation operations
    submission_get_validation: Tests for retrieving submission validation status
    submission_start_validation: Tests for starting submission validation

    # Permission-based markers
    requires_auth: Tests that require authentication
    requires_system_admin: Tests that require system admin permissions
    requires_org_admin: Tests that require org admin permissions
    requires_permission: Tests that require specific permissions

    # Type-based markers
    unit: Unit tests
    integration: Integration tests
    e2e: End-to-end tests

    # Speed-based markers
    slow: Tests that take significant time to run
    fast: Quick tests

    # Other markers
    smoke: Smoke tests for critical functionality
    regression: Regression tests
    wip: Work in progress tests (skip in CI)

# Ignore warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning